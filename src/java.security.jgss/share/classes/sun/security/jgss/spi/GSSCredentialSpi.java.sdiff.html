<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="Content-Type" content="text/xhtml;charset=utf-8"></meta>
<meta http-equiv="Pragma" content="no-cache"></meta>
<meta http-equiv="Expires" content="-1"></meta>
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
span.chmod {
    font-size: 0.7em;
    color: #db7800;
}
a.print { font-size: x-small; }
a:hover { background-color: #ffcc99; }
</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>ws Sdiff src/java.security.jgss/share/classes/sun/security/jgss/spi/GSSCredentialSpi.java</title>
</head><body id="SUNWwebrev">
<a class="print" href="javascript:print()">Print this page</a>
<pre>Add JGSS JNI bindings for gss cred store functions
Add isDefaultCredential() method to GSSCredentialSpi</pre>

<table><tr valign="top">
<td><pre>

</pre><hr></hr><pre>
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
  23  * questions.
  24  */
  25 
  26 package sun.security.jgss.spi;
  27 
  28 import org.ietf.jgss.*;
  29 import java.security.Provider;

  30 
  31 /**
  32  * This interface is implemented by a mechanism specific credential
  33  * element. A GSSCredential is conceptually a container class of several
  34  * credential elements from different mechanisms.
  35  *
  36  * @author Mayank Upadhyay
  37  */
  38 public interface GSSCredentialSpi {
  39 
  40     public Provider getProvider();
  41 
  42     /**
  43      * Called to invalidate this credential element and release
  44      * any system recourses and cryptographic information owned
  45      * by the credential.
  46      *
  47      * @exception GSSException with major codes NO_CRED and FAILURE
  48      */
  49     public void dispose() throws GSSException;

</pre><hr></hr><pre>
  72      * @return the accept lifetime remaining in seconds
  73      * @exception GSSException may be thrown
  74      */
  75     public int getAcceptLifetime() throws GSSException;
  76 
  77     /**
  78      * Determines if this credential element can be used by a context
  79      * initiator.
  80      * @return true if it can be used for initiating contexts
  81      */
  82     public boolean isInitiatorCredential() throws GSSException;
  83 
  84     /**
  85      * Determines if this credential element can be used by a context
  86      * acceptor.
  87      * @return true if it can be used for accepting contexts
  88      */
  89     public boolean isAcceptorCredential() throws GSSException;
  90 
  91     /**







  92      * Returns the oid representing the underlying credential
  93      * mechanism oid.
  94      *
  95      * @return the Oid for this credential mechanism
  96      * @exception GSSException may be thrown
  97      */
  98     public Oid getMechanism();




















  99 
 100     /**
 101      * Impersonates another client.
 102      *
 103      * @param name the client to impersonate
 104      * @return the new credential
 105      * @exception GSSException may be thrown
 106      */
 107     public GSSCredentialSpi impersonate(GSSNameSpi name) throws GSSException;
 108 }
</pre></td><td><pre>

</pre><hr></hr><pre>
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
  23  * questions.
  24  */
  25 
  26 package sun.security.jgss.spi;
  27 
  28 import org.ietf.jgss.*;
  29 import java.security.Provider;
<span class="new">  30 import java.util.Map;</span>
  31 
  32 /**
  33  * This interface is implemented by a mechanism specific credential
  34  * element. A GSSCredential is conceptually a container class of several
  35  * credential elements from different mechanisms.
  36  *
  37  * @author Mayank Upadhyay
  38  */
  39 public interface GSSCredentialSpi {
  40 
  41     public Provider getProvider();
  42 
  43     /**
  44      * Called to invalidate this credential element and release
  45      * any system recourses and cryptographic information owned
  46      * by the credential.
  47      *
  48      * @exception GSSException with major codes NO_CRED and FAILURE
  49      */
  50     public void dispose() throws GSSException;

</pre><hr></hr><pre>
  73      * @return the accept lifetime remaining in seconds
  74      * @exception GSSException may be thrown
  75      */
  76     public int getAcceptLifetime() throws GSSException;
  77 
  78     /**
  79      * Determines if this credential element can be used by a context
  80      * initiator.
  81      * @return true if it can be used for initiating contexts
  82      */
  83     public boolean isInitiatorCredential() throws GSSException;
  84 
  85     /**
  86      * Determines if this credential element can be used by a context
  87      * acceptor.
  88      * @return true if it can be used for accepting contexts
  89      */
  90     public boolean isAcceptorCredential() throws GSSException;
  91 
  92      /**
<span class="new">  93       * Returns true if the credential is a default credential.</span>
<span class="new">  94       *</span>
<span class="new">  95       * @return true if the credential is a default credential, else false.</span>
<span class="new">  96       */</span>
<span class="new">  97      public boolean isDefaultCredential();</span>
<span class="new">  98 </span>
<span class="new">  99     /**</span>
 100      * Returns the oid representing the underlying credential
 101      * mechanism oid.
 102      *
 103      * @return the Oid for this credential mechanism
 104      * @exception GSSException may be thrown
 105      */
 106     public Oid getMechanism();
<span class="new"> 107 </span>
<span class="new"> 108     /**</span>
<span class="new"> 109      * Stores a credential in the location specified by the store</span>
<span class="new"> 110      * argument.</span>
<span class="new"> 111      *</span>
<span class="new"> 112      * @param usage The credential usage to store.</span>
<span class="new"> 113      * @param overwrite Whether to overwrite any credential found at the</span>
<span class="new"> 114      * given store location.</span>
<span class="new"> 115      * @param defaultCred Whether to make the credential the default</span>
<span class="new"> 116      * credential in the store at the given location.</span>
<span class="new"> 117      * @param store A map of string keys and values specifying a store</span>
<span class="new"> 118      * location.</span>
<span class="new"> 119      */</span>
<span class="new"> 120     default void storeInto(int usage, boolean overwrite, boolean defaultCred,</span>
<span class="new"> 121                            Map&lt;String,String&gt; store) throws GSSException {</span>
<span class="new"> 122         throw new GSSException(GSSException.UNAVAILABLE, -1,</span>
<span class="new"> 123                 "The " + getMechanism() + "mechanism does not " +</span>
<span class="new"> 124                 "currently support storing GSS credentials handle " +</span>
<span class="new"> 125                 "elements into a \"credential store\"");</span>
<span class="new"> 126     }</span>
 127 
 128     /**
 129      * Impersonates another client.
 130      *
 131      * @param name the client to impersonate
 132      * @return the new credential
 133      * @exception GSSException may be thrown
 134      */
 135     public GSSCredentialSpi impersonate(GSSNameSpi name) throws GSSException;
 136 }
</pre></td>
</tr></table>
</body></html>
